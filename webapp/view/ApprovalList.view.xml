<mvc:View controllerName="com.bmc.hcm.erf.controller.ApprovalList" xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:semantic="sap.f.semantic"
	xmlns:footerbar="sap.ushell.ui.footerbar" busy="{approvalListView>/busy}" busyIndicatorDelay="100">
	<Page showFooter="true" showHeader="true" floatingFooter="true" showNavButton="true" navButtonPress="onNavBack"
		title="{i18n>EMPLOYEE_REQUEST_FORM_LIST}" class="erfListPage">
		<Table id="idApprovalListTable" width="auto" class="erfTable"
			items="{ path: '/EmployeeRequestFormSet',filters : [ { path : 'Erfap', operator : 'EQ', value1 : 'REQUESTS_ON_ME'}, { path : 'Erfsf', operator : 'EQ', value1 : 'ALL'} ] }"
			noDataText="{approvalListView>/tableNoDataText}" busyIndicatorDelay="{approvalListView>/tableBusyDelay}" growing="true"
			growingScrollToLoad="true" updateFinished="onUpdateFinished" updateStarted="onUpdateStarted" inset="false">
			<headerToolbar>
				<Toolbar>
					<ToolbarSpacer/>
					<SearchField id="searchField" tooltip="{i18n>REQUEST_SEARCH_TOOLTIP}" search="onSearch"
						width="{= ${device>/system/phone} ? '100%' : '50%' }"></SearchField>
				</Toolbar>
			</headerToolbar>
			<infoToolbar>
				<Toolbar>
					<Title id="idApprovalListTableHeader" text="{approvalListView>/requestListTableTitle}"/>
				</Toolbar>
			</infoToolbar>
			<columns>
				<Column id="idRequestNumberColumn">
					<Text text="{i18n>ERF_NUMBER}"/>
				</Column>
				<Column id="idPositionColumn">
					<Text text="{i18n>POSITION}"/>
				</Column>
				<Column id="idRequestReasonColumn">
					<Text text="{i18n>REQUEST_REASON}"/>
				</Column>
				<Column id="idRequestOwnerColumn" demandPopin="true">
					<Text text="{i18n>REQUEST_OWNER}"/>
				</Column>
				<Column id="idRequestDateColumn" minScreenWidth="Tablet" demandPopin="true">
					<Text text="{i18n>REQUEST_DATE}"/>
				</Column>
				<Column id="idRequestStatusColumn" minScreenWidth="Tablet" demandPopin="true">
					<Text text="{i18n>REQUEST_STATUS}"/>
				</Column>
			</columns>
			<items>
				<ColumnListItem type="Navigation" press="onRequestDetail">
					<cells>
						<ObjectIdentifier title="{Erfno}"/>
						<Text text="{= ${Nopln} ? ${Plaft} : ${Plstx} }"/>
						<Text text="{Erfrx}"/>
						<Text text="{Rqowe}" wrapping="true"/>
						<Text
							text="{ path: 'Rqdat', type: 'sap.ui.model.type.Date', formatOptions: { pattern:'dd.MM.yyyy'} } - { path: 'Rqtim', type: 'sap.ui.model.odata.type.Time', formatOptions: { pattern:'HH:mm'} }"/>
						<Text text="{ parts: [ {path: 'Erfsx' }, {path: 'Erfsy' }], formatter: '.formatter.getStatusText' }"/>
					</cells>
				</ColumnListItem>
			</items>
		</Table>
	</Page>
</mvc:View>